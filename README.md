## 開発概要

本リポジトリは、プログラミング学習コミュニティ「POSSE」主催のチーム開発コンテストにて開発した、大学生サークル間クラウドソーシングWebサービス「Circle Quest（CQ）」のプロトタイプです。  
全8チーム中2位を受賞した成果物です。

---

<details>
<summary>開発の背景・目的</summary>

### 📌 テーマ

「大学生サークル間のクラウドソーシングアプリのプロトタイプ」  
（出題：日本最大級クラウドソーシングサービス「ランサーズ」様）

### 🎯 解決すべき課題

- 大学生サークル間の交流不足
- ランサーズ様の若年層への認知度向上
- SNS（X / Instagram）との差別化

### 💡 企画の方向性

「なぜこのサービスが必要なのか？」を深掘りした結果、  
**「スキルアップや活動の発展を目的とした本質的な交流」** にニーズがあると仮説を立てました。

### 👥 ターゲット・ペルソナ

- 実績を作りたいクリエイティブ系サークル
- SNS運用や動画制作を依頼したい一般サークル

これらをマッチングする仕組みとして「Circle Quest（CQ）」を開発しました。

</details>

<details>
<summary>独自機能・工夫</summary>

- サービス内での定量評価 + コメント機能を実装
- SNSにはない「評価の可視化」により信頼性を担保
- 評価の高いサークルがランサーズ様から表彰される仕組みを導入  
　→ フリーランスへの第一歩となる導線を設計

</details>

<details>
<summary>チーム構成・役割分担</summary>

- 4人チームで開発（全工程：要件定義〜実装・発表）
- 自分の担当：
  - バックエンド開発（PHP / MySQL）
  - 要件定義の初期アイデア出し（企画・ペルソナ設計）
  - フロントとのAPI繋ぎ込み主導
  - 制約（FW禁止）下での工夫
    - PHPでルーティング自作
    - HTMLの簡易コンポーネント化
    - 再利用可能なカスタムフックの作成

</details>

---

## 使用技術スタック

- HTML / CSS（Tailwind CSS）
- JavaScript
- PHP（フレームワーク非使用）
- MySQL
- Docker
- GitHub

---
<details>
  <summary>環境構築の手順</summary>

## 環境構築

### Macの場合
 1. `/teamdev-2025-posse1-team5B`フォルダに移動し、以下のコマンドを実行する
  ```sh
  make init
  ```
  2. DBコンテナが起動したのを確認後DBを初期化する
  ```sh
  make db/init
  ```

## Windowsの場合
### 環境構築事前準備
  1. `.env` ファイルを作成  
     - `.env.example` の内容をコピーして貼り付ける  
     - ファイルは `.env.example` と同じ階層に配置する  

### ライブラリ環境構築
 1. 以下のコマンドをターミナルで実行する  
      ```sh
      docker compose build --no-cache 
      docker compose up -d 
      ```

  2. 以下のコマンドをターミナルで実行する
      ```sh
      docker compose exec php npm install
      docker compose exec php npm install tailwindcss 
      ```
  
  3. 以下のコマンドをターミナルで実行する  
      ```sh
      docker compose exec php bash 
      ```

  4. `root@...` のシェルに入るので、以下のコマンドを実行し、`node`, `npm`, `tailwindcss`, `composer` がインストールされていることを確認する  
     ```sh
     node -v 
     npm -v
     npm list tailwindcss
     ```
     **出力例（エラーが出なければ成功）:**
     ```
     v18.16.0
     9.5.1
     tailwindcss@3.4.17
     ```

     ```
         ______
        / ____/___  ____ ___  ____  ____  ________  _____
       / /   / __ \/ __ `__ \/ __ \/ __ \/ ___/ _ \/ ___/
      / /___/ /_/ / / / / / / /_/ / /_/ (__  )  __/ /
      \____/\____/_/ /_/ /_/ .___/\____/____/\___/_/
                          /_/
      Composer version 2.8.6 2025-02-25 13:03:50
     ``` 

   - `composer`がインストールされていない場合は以下のコマンドをターミナルで実行
   ```sh
   composer install
   ```

  5. Tailwind CSS をインストール  
  - PHPコンテナから抜け、`/src`フォルダに移動
  - 以下のコマンドをターミナルで実行する
   ```sh
   npm install -D tailwindcss
   ```

  6. 以下のコマンドを実行し、Tailwind をビルドする  
     ```sh
     npm run build
     ```
     `Ok to proceed? (y) y` と表示された場合は `y` を入力して Enter を押す。
   
   7. 以下のコマンドをターミナルで実行し、DBを初期化する
   - **`/teamdev-2025-posse1-team5B`フォルダで実行すること**
   ```
   docker-compose exec db mysql -uroot -proot -e "SOURCE /  docker-entrypoint-initdb.d/init.sql;"
   ```

</details>
<details>
  <summary>動作確認方法</summary>

## 注意
- **DOMAIN_NAMEとあるところはデプロイ後のURLに置き換えてください**
- ログインしていない状態だとLPに飛びます
- 「ログアウト」ボタンを押すとログインページに飛びます

## アカウント
### 依頼作成をテストするアカウント
   - アドミンアカウント
   - 依頼・イベント作成はこのアカウントにログインしてテストしてください
   ```
   メールアドレス: admin@example.com
   パスワード: password
   ```

### 応募をテストするアカウント
   - ユーザーアカウント
   - 依頼・イベントへの応募のテストは以下のアカウントにログインしてテストしてください
   **特に指定がない場合、「ユーザーアカウントにログイン」はtest@example.comにログインすることを指します**
   ```
   メールアドレス: test@example.com
   パスワード: password

   メールアドレス: test2@example.com
   パスワード: password

   メールアドレス: test3@example.com
   パスワード: password
   ```

## Must
### サークル登録ができること
1.  新規会員登録ページ(http://{DOMAIN_NAME}/auth/signup/index.php)を閲覧する
2. 各項目にそれぞれ該当する値を入力し、「登録」ボタンを押す
```
名前: 山田太郎
生年月日: 2005/01/01
所属大学名: 太郎大学
所属サークル名: 太郎サークル
所属サークルのタイプ: 同学
メールアドレス: taro@example.com
Lineの招待リンク: https://www.line.me/ja/
インスタグラム: https://www.instagram.com
X(Twitter): https://x.com/
プロフィール画像: {なしで大丈夫です}
電話番号: 0123456789
パスワード: password
```
3. ログインページに遷移し、登録した情報を元にログインする
```
メールアドレス: taro@example.com
パスワード: password
```
- ログイン後アカウントが登録されたことを確認

### 依頼者は依頼を作成し、協力者を募集できること
   1. アドミンアカウントにログインする
   2. ログイン後サイドバーにある「依頼する」リンクを押し依頼作成ページ(http://{DOMAIN_NAME}/index.php?page=create)に遷移する
   3. 各項目にそれぞれ該当する値を入力し、「作成」ボタンを押す
```
1.依頼のタイトル: テスト依頼作成
2.依頼内容: Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.
3.サークルを選択:　{初期値のままで大丈夫です}
4.カテゴリー : {初期値のままで大丈夫です}
5.金額 :　0
6.期日 : 2025/05/01
7.コメント: Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.
```
   4. 作成後、ヘッダーの「ログアウト」ボタンからログアウトする
   5. ユーザーアカウントにログインし、サイドバーの「依頼を探す」リンクを押す
   - 依頼検索(http://{DOMAIN_NAME}/index.php?page=search)に遷移する
   6. 作成した「テスト依頼作成」依頼の「詳しく見る」ボタンから依頼応募ページに遷移する
   7. チェックボックスにチェックを入れ、「応募する」ボタンを押す
   8. 適当な画像(最大サイズ10MB, 拡張子:jpeg,png,jpg)または動画(最大サイズ：10MB, 拡張子：mp4)を添付し、「提出する」ボタンから提出する
   9. トップページの「選定待ち中」一覧から応募した事を確認
- 以下アカウントをtest2またはtest3に変えてステップ5からやりなおす

### 依頼者は協力者の選定ができること
1. アドミンアカウントにログインする
2. トップページの「選定中/応募待ち中の依頼」一覧から作成した依頼の「詳細を見る」ボタンを押し、選定画面に遷移する
3. 「提出物をみる」からそれぞれの提出物を見えることを確認する
4. 一番最初の提出物の「お願いする」ボタンを押し、「確定」ボタンで選定する
5. トップページの「納品待ち中の依頼」に依頼が移動していることを確認する

## Want
### 募集中の依頼をカテゴリーで閲覧できること
1. ユーザーアカウントにログインしトップページから依頼検索(http://{DOMAIN_NAME}/index.php?page=search)に遷移する
2. カテゴリー別検索からカテゴリーを選択し「検索」ボタンを押し、検索結果が変わるかを確認
3. 検索欄からキーワードを入れヒットした検索結果が閲覧できるかを確認
### １つのサークルに複数のユーザーを登録できること
1.  ユーザーアカウントにログインする
2. トップページの「サークルに参加する」ボタンからサークル検索ページ(http://{DOMAIN_NAME}/index.php?page=join)に遷移する
3. 適当なサークルの「参加する」ボタンを押し参加する
4. 参加したサークルの「詳細を見るボタン」からサークル詳細ページに遷移し、テストユーザーがサークルのメンバーの一員になってることを確認する
　- この時、一つのサークルに複数のメンバーが存在することができるのを確認する

## Must&Want
### 依頼が完了したら、終了できること＆相互の評価ができる
1. ユーザーアカウントにログインし、ヘッダーの通知ベルマークから、通知一覧ページ(http://{DOMAIN_NAME}/index.php?page=notification)に遷移する
2. 「おめでとうございます！あなたが選ばれました！」通知の「詳しく見る」から提出ページに遷移する
3. 適当な画像(最大サイズ10MB, 拡張子:jpeg,png,jpg)または動画(最大サイズ：10MB, 拡張子：mp4)を添付し、「最終成果物を提出する」ボタンからもう一度提出する
4. アカウントを変え、アドミンアカウントにログインし、通知一覧ページ(http://{DOMAIN_NAME}/index.php?page=notification)に遷移する
5. 「最終成果物を納品しました！」通知の「詳しく見る」から評価ページに遷移する
6. 各項目にそれぞれ該当する値を入力する
```
連絡のやり取りは適切であったか: 5
納品、決済は期日を守り、スムーズであったか: 5
またこのサークル・人と取引したいか？: 5
作品の質はどうか（依頼人の要求に沿っているか）: 5
他の人にどれくらいおすすめしたいか: 5
適度に進捗の共有はされていたか？: 5
コメント: Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis 
```
7. 「支払い状況を確認ボタン」を押し、「はい、支払い済みです」を選ぶ
8. その後、「送信」ボタンを押し、評価を送信する
9. アドミンからログアウトし、ユーザーアカウントにログインし、ヘッダーの通知ベルマークから通知一覧ページ(http://{DOMAIN_NAME}/index.php?page=notification)に遷移する
10. 「〇〇さんが評価しました！」通知の「詳しく見る」から評価確認ページに遷移する
 - ちゃんと評価が反映されているかを確認
11. 通知一覧ページ(http://{DOMAIN_NAME}/index.php?page=notification)に遷移する「〇〇さんが決済・評価しました！依頼の評価をしましょう」通知の「詳しく見る」から評価ページに遷移する
12. 同様に評価をし送信する
13. アドミンにアカウントを切り替え通知から評価を確認する

## イベント
- お題にはありませんが、自分たちが実装した機能の一部です。
- サービスを語る上では外せない機能なので以下に操作手順を説明します。

### イベントの作成
1. アドミンアカウントにログインする
2. 依頼作成ページから、イベントにトグル切り替えのボタンを押す
3. 以下の項目を埋める
   - この時画像は適当なもの(最大サイズ10MB, 拡張子:jpeg,png,jpg)2枚添付してください
   - 画像それぞれにタイプを指定できますが、メインビジュアルとバナーを指定してください
```
イベント名: Event test 1
イベント内容: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
イベント画像（複数）: {画像1,画像2}
賞品: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
提出締め切り: 2025/05/01
発表日: 2025/05/04
タグ: #test1 #test2
```
4. 「イベントを作成」ボタンを押す

### イベント応募
1. ログアウトして、ユーザーアカウントにログインする
2. 通知一覧ページまたは検索ページからイベントの告知を確認する
　- 通知一覧ページの「詳しく見る」からイベントページに遷移する
　- 検索ページのバナー告知の画像をクリックしてイベントページに遷移する
3. イベントページで「参加する」ボタンを押す

**注意**
- 応募した時点、自分たち・チームが確定するので、応募後に変更はできません

### 自分たちで応募の場合
4. チェックボックスにチェックを入れ、応募する
5. 適当な画像(最大サイズ10MB, 拡張子:jpeg,png,jpg)または動画(最大サイズ：10MB, 拡張子：mp4)を添付し、提出する
6. トップページからイベント一覧項目が閲覧でき、イベント応募の詳細ページに遷移できるのを確認

### チームで応募の場合
4. イベント応募ページでチームでを選択する
5. 「チームを作る」ボタンを押し、サークル検索ページに遷移する
6. サークル検索ページ（http://{DOMAIN_NAME}/index.php?page=join）でクラシックサークルのサークル詳細ページに遷移し、test2(寺山 文乃)の「詳しく見る」からユーザー詳細ページに遷移する
7. そのメンバーの詳細ページから、チーム名(test team)、どのサークルの代表としてか(初期値でOKです)を決め、「チームを組む」ボタンを押す
8. ログアウトし、test2(寺山 文乃)としてログインする
9. 通知一覧ページから招待の通知を確認し、承諾ページに遷移する
10. 招待を承認し、トップページでイベント一覧が見えることを確認する
11. ユーザーアカウントにログインし、イベント一覧項目からイベントの詳細ページまで遷移する
12. チェックボックスにチェックを入れ、応募する
13. 適当な画像(最大サイズ10MB, 拡張子:jpeg,png,jpg)または動画(最大サイズ：10MB, 拡張子：mp4)を添付し、提出する
14. トップページからイベント一覧項目が閲覧でき、イベント応募の詳細ページに遷移できるのを確認
15. test2(寺山 文乃)としてログインし、通知一覧ページからチームがイベントに応募した旨と提出した旨の通知をそれぞれ確認する
